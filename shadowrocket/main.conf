# åœ°å€: https://YiqunZhang.github.io/proxy/shadowrocket/main.conf

[General]
# æ—è·¯ç³»ç»Ÿ. å¦‚æœç¦ç”¨æ­¤é€‰é¡¹, å®ƒå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ç³»ç»Ÿé—®é¢˜, å¦‚æ¨é€é€šçŸ¥å»¶è¯¯
bypass-system = true

# å¦‚æœå…³é—­è¯¥é€‰é¡¹, åŸŸåè§£æè¿”å›ç§æœ‰IP, shadowrocketä¼šè®¤ä¸ºè¯¥åŸŸåè¢«åŠ«æŒè€Œå¼ºåˆ¶ä½¿ç”¨ä»£ç†.
private-ip-answer = true

# IPv6
ipv6 = false
prefer-ipv6 = false

# The fallback behavior when UDP traffic matches a policy that doesn't support the UDP relay. Possible values: DIRECT, REJECT.
udp-policy-not-supported-behaviour = REJECT

# è·³è¿‡ä»£ç†. æ­¤é€‰é¡¹å¼ºåˆ¶è¿™äº›åŸŸåæˆ–IPçš„è¿æ¥èŒƒå›´ç”±shadowrocket TUNæ¥å£æ¥å¤„ç†, è€Œä¸æ˜¯Shadowrocketä»£ç†æœåŠ¡å™¨. æ­¤é€‰é¡¹ç”¨äºè§£å†³ä¸€äº›åº”ç”¨ç¨‹åºçš„ä¸€äº›å…¼å®¹æ€§é—®é¢˜.
skip-proxy = *

# å…¶ä»–
icmp-auto-reply = true
always-reject-url-rewrite = false


# TUNæ—è·¯è·¯ç”±. ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡æŒ‡å®šçš„IPèŒƒå›´, è®©å…¶ä»–åè®®é€šè¿‡.
## ä¿ç•™IPåœ°å€, è¯¦è§: https://zh.wikipedia.org/zh-sg/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80
## æœ¬åœ°å›ç¯: 127.0.0.0/8,localhost
## å¹¿æ’­å’Œå¤šæ’­: 255.255.255.255/32,224.0.0.0/4
## ç§æœ‰å±€åŸŸç½‘: 192.168.0.0/16  # 172.16.0.0/12,10.0.0.0/8
## è¿è¥å•†å¤§è§„æ¨¡NAT(CGNAT): 100.64.0.0/10
## æ— DHCPæ—¶è‡ªåŠ¨é…ç½®çš„é“¾è·¯æœ¬åœ°åœ°å€(APIPA): 169.254.0.0/16
## æµ‹è¯•ç”¨åœ°å€: 198.18.0.0/15
## æ–‡æ¡£ç¤ºä¾‹: 192.0.2.0/24,198.51.100.0/24,203.0.113.0/24,233.252.0.0/24
## å…¶ä»– ä¿ç•™/åºŸå¼ƒ åœ°å€: 0.0.0.0/8,192.0.0.0/24,192.88.99.0/24,240.0.0.0/4
tun-excluded-routes = 127.0.0.0/8,localhost,255.255.255.255/32,224.0.0.0/4,192.168.0.0/16,100.64.0.0/10,169.254.0.0/16,198.18.0.0/15,192.0.2.0/24,198.51.100.0/24,203.0.113.0/24,233.252.0.0/24,0.0.0.0/8,192.0.0.0/24,192.88.99.0/24,240.0.0.0/4

## Appleæœ¬åœ°wifiè®¤è¯æ£€æµ‹: captive.apple.com
## Appleæœ¬åœ°ç³»ç»ŸæœåŠ¡, æœ‰åä»£ç†æ£€æµ‹: seed-sequoia.siri.apple.com
## æœ¬åœ°å›ç¯ å’Œ å±€åŸŸç½‘è®¾å¤‡å‘ç°: localhost,*.local

# TUNåŒ…å«è·¯ç”±. é»˜è®¤æƒ…å†µä¸‹, shadowrocketæ¥å£ä¼šå£°æ˜è‡ªå·±ä¸ºé»˜è®¤è·¯ç”±, ä½†ç”±äº Wi-Fiæ¥å£çš„è·¯ç”±è¾ƒå°, æœ‰äº›æµé‡å¯èƒ½ä¸ä¼šé€šè¿‡shadowrocketæ¥å£. ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ·»åŠ ä¸€ä¸ªè¾ƒå°çš„è·¯ç”±è¡¨.
tun-included-routes = 


# DNS
## DNSè¦†å†™. ä½ å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹è¦†ç›–é»˜è®¤çš„DNSæœåŠ¡å™¨. iOSç³»ç»Ÿä¸å…è®¸ä½ åœ¨èœ‚çªç½‘ç»œä¸Šä¿®æ”¹DNSè®¾ç½®. ç°åœ¨ä½¿ç”¨shadowrocketä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°åšåˆ°è¿™ä¸€ç‚¹.
dns-server = 223.5.5.5,119.29.29.29,180.168.255.118

## å¤‡ç”¨ DNS. å¦‚æœä½¿ç”¨ DNS-over-TLS, DNS-over-HTTPSæˆ–è€…DNS-over-QUICçš„åŸŸåæŸ¥è¯¢å› æŸç§åŸå› è€Œå¤±è´¥, shadowrocketå°†é€€å›å¹¶ä½¿ç”¨æ“ä½œç³»ç»Ÿé…ç½®çš„é»˜è®¤DNS, è€Œä¸æ˜¯æ˜¾ç¤ºé”™è¯¯.
fallback-dns-server = system
dns-fallback-system = false
dns-direct-system = false
dns-direct-fallback-proxy = false

## åŠ«æŒ DNS. é»˜è®¤æƒ…å†µä¸‹, shadowrocketåªè¿”å›å‘é€åˆ°shadowrocket DNSåœ°å€çš„DNSæŸ¥è¯¢çš„å‡IPåœ°å€(198.18.0.2). æœ‰äº›è®¾å¤‡æˆ–è½¯ä»¶æ€»æ˜¯ä½¿ç”¨ç¡¬ç¼–ç çš„DNSæœåŠ¡å™¨(ä¾‹å¦‚Google Speakersæ€»æ˜¯ä½¿ç”¨8.8.8.8). ä½ å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹åŠ«æŒæŸ¥è¯¢, ä»¥è·å¾—ä¸€ä¸ªå‡åœ°å€.
hijack-dns = 8.8.8.8:53

## æ€»æ˜¯çœŸå®IP. è¿™ä¸ªé€‰é¡¹è¦æ±‚shadowrocketåœ¨TUNå¤„ç†DNSè¯·æ±‚æ—¶è¿”å›ä¸€ä¸ªçœŸå®çš„IPåœ°å€è€Œä¸æ˜¯å‡çš„IPåœ°å€.
### Appleæœ¬åœ°wifiè®¤è¯æ£€æµ‹: captive.apple.com
### Appleæœ¬åœ°ç³»ç»ŸæœåŠ¡, æœ‰åä»£ç†æ£€æµ‹: seed-sequoia.siri.apple.com
### æœ¬åœ°å›ç¯ å’Œ å±€åŸŸç½‘è®¾å¤‡å‘ç°: localhost,*.local
always-real-ip = localhost,*.local




[Proxy Group]
# å»ºè®®åªä½¿ç”¨ select / url-test

å®¶ = select,policy-regex-filter=å®¶|HOME|Home|home
ç¬¬å››èŒƒå¼ = select,policy-regex-filter=èŒƒå¼|4Paradigm|4paradigm|4pd
æ¾³æ´² = url-test,policy-regex-filter=ğŸ‡¦ğŸ‡º|æ¾³å¤§åˆ©äºš|æ¾³æ´²|AU,url=http://cp.cloudflare.com/generate_204,interval=600,tolerance=30,timeout=5
æ—¥æœ¬ = url-test,policy-regex-filter=ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP,url=http://cp.cloudflare.com/generate_204,interval=600,tolerance=30,timeout=5
å°æ¹¾ = url-test,policy-regex-filter=ğŸ‡¹ğŸ‡¼|å°æ¹¾|TW,url=http://cp.cloudflare.com/generate_204,interval=600,tolerance=30,timeout=5
ç¾å›½ = url-test,policy-regex-filter=ğŸ‡ºğŸ‡¸|ç¾å›½|US,url=http://cp.cloudflare.com/generate_204,interval=600,tolerance=30,timeout=5
æ–°åŠ å¡ = url-test,policy-regex-filter=ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|SG,url=http://cp.cloudflare.com/generate_204,interval=600,tolerance=30,timeout=5
é¦™æ¸¯ = url-test,policy-regex-filter=ğŸ‡­ğŸ‡°|é¦™æ¸¯|hk,url=http://cp.cloudflare.com/generate_204,interval=600,tolerance=30,timeout=5


[Rule]
# å»ºè®®åªä½¿ç”¨ DOMAIN-SUFFIX / DOMAIN / DOMAIN-KEYWORD / IP-CIDR

# <å®¶>
IP-CIDR,10.10.1.0/24,å®¶,no-resolve
IP-CIDR,10.10.2.0/24,å®¶,no-resolve

# <ç¬¬å››èŒƒå¼>
IP-CIDR,172.24.0.0/16,ç¬¬å››èŒƒå¼,no-resolve
IP-CIDR,172.25.0.0/16,ç¬¬å››èŒƒå¼,no-resolve
IP-CIDR,172.26.0.0/16,ç¬¬å››èŒƒå¼,no-resolve
IP-CIDR,172.27.0.0/16,ç¬¬å››èŒƒå¼,no-resolve
IP-CIDR,172.28.0.0/16,ç¬¬å››èŒƒå¼,no-resolve

# <æ¾³æ´²>
DOMAIN-SUFFIX,au,æ¾³æ´²

## æ”¿åºœ
DOMAIN-SUFFIX,gov.au,æ¾³æ´²

## å­¦æ ¡
DOMAIN-SUFFIX,anu.edu.au,æ¾³æ´²

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AppleNews/AppleNews.list,æ¾³æ´²
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TikTok/TikTok.list,æ¾³æ´²
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Amazon/Amazon.list,æ¾³æ´²

# <æ—¥æœ¬>
DOMAIN-SUFFIX,jp,æ—¥æœ¬

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Nintendo/Nintendo.list,DIRECT

# <å°æ¹¾>
DOMAIN-SUFFIX,tw,å°æ¹¾

# <ç¾å›½>
## poe
DOMAIN-SUFFIX,poe.com,ç¾å›½

## google family: 
# Alphabet/Google/Gmail/Youtube/Blogger
# GoogleVentures/CapitalG/GoogleX
# Chrome/ChromeOS/Chromebook/Chromium/Blink/Tensorflow
# AMP/Waze/DeepMind/Verily/Calico/Fitbit/Kaggle
DOMAIN-SUFFIX,abc.xyz,ç¾å›½
DOMAIN-SUFFIX,google,ç¾å›½
DOMAIN-SUFFIX,google.com,ç¾å›½
DOMAIN-SUFFIX,gstatic.com,ç¾å›½
DOMAIN-SUFFIX,googleapis.com,ç¾å›½
DOMAIN-SUFFIX,gsuite.com,ç¾å›½
DOMAIN-SUFFIX,gmail.com,ç¾å›½
DOMAIN-SUFFIX,googlevideo.com,ç¾å›½
DOMAIN-SUFFIX,youtube.com,ç¾å›½
DOMAIN-SUFFIX,youtu.be,ç¾å›½
DOMAIN-SUFFIX,yt.be,ç¾å›½
DOMAIN-SUFFIX,youtubefanfest.com,ç¾å›½
DOMAIN-SUFFIX,youtubeeducation.com,ç¾å›½
DOMAIN-SUFFIX,youtubegaming.com,ç¾å›½
DOMAIN-SUFFIX,youtubekids.com,ç¾å›½
DOMAIN-SUFFIX,youtube-nocookie.com,ç¾å›½
DOMAIN-SUFFIX,youtubemobilesupport.com,ç¾å›½
DOMAIN-SUFFIX,youtubego.com,ç¾å›½
DOMAIN-SUFFIX,withyoutube.com,ç¾å›½
DOMAIN-SUFFIX,blogger.com,ç¾å›½
DOMAIN-SUFFIX,blogspot.com,ç¾å›½
DOMAIN-SUFFIX,chrome.com,ç¾å›½
DOMAIN-SUFFIX,chromeos.dev,ç¾å›½
DOMAIN-SUFFIX,chromebook.com,ç¾å›½
DOMAIN-SUFFIX,chromium.org,ç¾å›½
DOMAIN-SUFFIX,blink.org,ç¾å›½
DOMAIN-SUFFIX,tensorflow.org,ç¾å›½
DOMAIN-SUFFIX,gv.com,ç¾å›½
DOMAIN-SUFFIX,capitalg.com,ç¾å›½
DOMAIN-SUFFIX,x.team,ç¾å›½
DOMAIN-SUFFIX,x.company,ç¾å›½
DOMAIN-SUFFIX,amp.dev,ç¾å›½
DOMAIN-SUFFIX,waze.com,ç¾å›½
DOMAIN-SUFFIX,deepmind.com,ç¾å›½
DOMAIN-SUFFIX,waymo.com,ç¾å›½
DOMAIN-SUFFIX,verily.com,ç¾å›½
DOMAIN-SUFFIX,calicolabs.com,ç¾å›½
DOMAIN-SUFFIX,fitbit.com,ç¾å›½
DOMAIN-SUFFIX,kaggle.com,ç¾å›½
DOMAIN-SUFFIX,kaggle.io,ç¾å›½
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,ç¾å›½
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list,ç¾å›½

# <æ–°åŠ å¡>
DOMAIN-SUFFIX,sg,æ–°åŠ å¡

# <é¦™æ¸¯>
DOMAIN-SUFFIX,hk,é¦™æ¸¯

## VPNå·¥å…·å’Œæä¾›å•†
DOMAIN-SUFFIX,metacubex.one,é¦™æ¸¯
DOMAIN-SUFFIX,bygcloud.com,é¦™æ¸¯
DOMAIN-SUFFIX,sibker.com,é¦™æ¸¯

## porn
DOMAIN-SUFFIX,pornhub.com,é¦™æ¸¯
DOMAIN-SUFFIX,jable.tv,é¦™æ¸¯
DOMAIN-SUFFIX,onlyfans.com,é¦™æ¸¯

## docker
DOMAIN-SUFFIX,docker.com,é¦™æ¸¯
DOMAIN-SUFFIX,docker.io,é¦™æ¸¯
DOMAIN-SUFFIX,dockerhub.com,é¦™æ¸¯

## huggingface
DOMAIN-SUFFIX,huggingface.co,é¦™æ¸¯
DOMAIN-SUFFIX,hf.co,é¦™æ¸¯
DOMAIN-SUFFIX,hf.space,é¦™æ¸¯
DOMAIN-SUFFIX,huggingface.com,é¦™æ¸¯

## github
DOMAIN-SUFFIX,github.com,é¦™æ¸¯
DOMAIN-SUFFIX,github.io,é¦™æ¸¯
DOMAIN-SUFFIX,github.dev,é¦™æ¸¯
DOMAIN-SUFFIX,gh.io,é¦™æ¸¯
DOMAIN-SUFFIX,git.io,é¦™æ¸¯
DOMAIN-SUFFIX,ghcr.io,é¦™æ¸¯
DOMAIN-SUFFIX,github.blog,é¦™æ¸¯
DOMAIN-SUFFIX,github.community,é¦™æ¸¯
DOMAIN-SUFFIX,githubusercontent.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubstatus.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubapp.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubassets.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubcopilot.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubhackathon.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubnext.com,é¦™æ¸¯
DOMAIN-SUFFIX,githubpreview.dev,é¦™æ¸¯
DOMAIN-SUFFIX,githubuniverse.com,é¦™æ¸¯
DOMAIN-SUFFIX,thegithubshop.com,é¦™æ¸¯
DOMAIN-SUFFIX,github-avatars.oss-cn-hongkong.aliyuncs.com,é¦™æ¸¯
DOMAIN-SUFFIX,github-cloud.s3.amazonaws.com,é¦™æ¸¯

## npm
DOMAIN-SUFFIX,npmjs.com,é¦™æ¸¯
DOMAIN-SUFFIX,npmjs.org,é¦™æ¸¯
DOMAIN-SUFFIX,npm.im,é¦™æ¸¯
DOMAIN-SUFFIX,npm.community,é¦™æ¸¯

## gitbook
DOMAIN-SUFFIX,gitbook.com,é¦™æ¸¯
DOMAIN-SUFFIX,gitbook.io,é¦™æ¸¯

## X
DOMAIN-SUFFIX,x.com,é¦™æ¸¯

## å…¶ä»–
DOMAIN-SUFFIX,xiaoyahost.com,é¦™æ¸¯

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Telegram/Telegram.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/PayPal/PayPal.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TVB/TVB.list,é¦™æ¸¯
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Netflix/Netflix.list,é¦™æ¸¯
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Disney/Disney.list,é¦™æ¸¯
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/HBO/HBO.list,é¦™æ¸¯
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,é¦™æ¸¯

# <ç›´è¿>
FINAL,DIRECT

# åŸå§‹
## HK

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Steam/Steam.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Sony/Sony.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Epic/Epic.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/SteamCN/SteamCN.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Game/Game.list,DIRECT


[Host]
# åŸŸå æŒ‡å®šå€¼
localhost = 127.0.0.1
# åŸŸå æŒ‡å®šDNSæœåŠ¡å™¨
*.apple.cn = server:system


[URL Rewrite]
[MITM]
























